# Instagram –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

## –°—Ç–∞—Ç—É—Å: "Instagram ist nicht konfiguriert"

–¶–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑'—è–≤–ª—è—î—Ç—å—Å—è —Ç–æ–º—É, —â–æ –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≤ Instagram –ø–æ—Ç—Ä—ñ–±–Ω–∞ Meta OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Instagram Business –∞–∫–∞—É–Ω—Ç—É.

---

## üìã –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è Instagram –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó?

### 1. Facebook App Domain (–ö–†–ò–¢–ò–ß–ù–û!)

–í –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö Facebook App –¥–æ–¥–∞–π—Ç–µ –¥–æ–º–µ–Ω:

**URL:** https://developers.facebook.com/apps/

**–ö—Ä–æ–∫–∏:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à Facebook App
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **"Settings"** ‚Üí **"Basic"**
3. –ó–Ω–∞–π–¥—ñ—Ç—å **"App Domains"**
4. –î–æ–¥–∞–π—Ç–µ: `marketing-agent-p4ig.onrender.com`
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏

### 2. Redirect URIs (OAuth Settings)

–í —Ä–æ–∑–¥—ñ–ª—ñ **"Products"** ‚Üí **"Facebook Login"** ‚Üí **"Settings"**:

**Valid OAuth Redirect URIs:**
```
https://marketing-agent-p4ig.onrender.com/meta/callback
```

---

## üîß Environment Variables –Ω–∞ Render

–î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –≤ **Environment** —Å–µ–∫—Ü—ñ—ó –Ω–∞ Render:

```bash
META_APP_ID=your_facebook_app_id_here
META_APP_SECRET=your_facebook_app_secret_here
```

**–î–µ –∑–Ω–∞–π—Ç–∏ —Ü—ñ –¥–∞–Ω—ñ?**
- Facebook App Dashboard ‚Üí Settings ‚Üí Basic
- **App ID** - –≤–∏–¥–Ω–æ –æ–¥—Ä–∞–∑—É
- **App Secret** - –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Show" –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É

---

## üì∏ Instagram Business Account

Instagram –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –∑ **Instagram Business** –∞–±–æ **Creator** –∞–∫–∞—É–Ω—Ç–∞–º–∏, —è–∫—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–æ Facebook Page.

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Instagram app
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Profile** ‚Üí **Settings** ‚Üí **Account**
3. –ú–∞—î –±—É—Ç–∏ –æ–ø—Ü—ñ—è **"Switch to Professional Account"**
4. –Ø–∫—â–æ –≤–∂–µ —î - –º–∞—î –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ **"Business"** –∞–±–æ **"Creator"**

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Facebook Page:
1. Instagram app ‚Üí Settings ‚Üí Business
2. **"Connect to Facebook Page"**
3. –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à—É Facebook —Å—Ç–æ—Ä—ñ–Ω–∫—É
4. –ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

---

## üöÄ –Ø–∫ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ Instagram –≤ –¥–æ–¥–∞—Ç–∫—É?

### –ö—Ä–æ–∫ 1: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Meta OAuth

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫: https://marketing-agent-p4ig.onrender.com
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Dashboard** ‚Üí **Settings**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Mit Meta verbinden"** (Connect with Meta)
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Facebook
5. **–í–ê–ñ–õ–ò–í–û:** –ù–∞–¥–∞–π—Ç–µ –¥–æ–∑–≤–æ–ª–∏:
   - `pages_show_list` - —Å–ø–∏—Å–æ–∫ Pages
   - `pages_read_engagement` - —á–∏—Ç–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
   - `pages_manage_posts` - –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –ø–æ—Å—Ç—ñ–≤
   - `instagram_basic` - –±–∞–∑–æ–≤–∏–π –¥–æ—Å—Ç—É–ø
   - `instagram_content_publish` - –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É

### –ö—Ä–æ–∫ 2: –í–∏–±—ñ—Ä Instagram Business Account

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:
1. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∞–π–¥–µ –≤–∞—à—ñ Facebook Pages
2. –ó –∫–æ–∂–Ω–æ—ó Page –±—É–¥–µ –≤–∏—Ç—è–≥–Ω—É—Ç–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π Instagram Business ID
3. –í–∏ –∑–º–æ–∂–µ—Ç–µ –≤–∏–±—Ä–∞—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –∞–∫–∞—É–Ω—Ç

### –ö—Ä–æ–∫ 3: –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è

–ü—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Content Generator**
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
3. –í–∏–±–µ—Ä—ñ—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É **"Instagram"**
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Ver√∂ffentlichen"** (Publish)

---

## ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω–Ω—è Instagram API

### –©–æ –º–æ–∂–Ω–∞ –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏:
- ‚úÖ –§–æ—Ç–æ (JPEG, –¥–æ 8MB)
- ‚úÖ –í—ñ–¥–µ–æ (MP4, –¥–æ 100MB, 3-60 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –ö–∞—Ä—É—Å–µ–ª—å (–¥–æ 10 —Ñ–æ—Ç–æ/–≤—ñ–¥–µ–æ)
- ‚úÖ Caption (—Ç–µ–∫—Å—Ç –¥–æ 2200 —Å–∏–º–≤–æ–ª—ñ–≤)
- ‚úÖ Hashtags

### –©–æ –ù–ï –º–æ–∂–Ω–∞:
- ‚ùå Stories (–ø–æ—Ç—Ä—ñ–±–µ–Ω –æ–∫—Ä–µ–º–∏–π API)
- ‚ùå Reels —á–µ—Ä–µ–∑ API (–ø–æ—Ç—Ä—ñ–±–Ω–∞ –º–æ–±—ñ–ª—å–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è)
- ‚ùå IGTV –¥–æ–≤–≥—ñ –≤—ñ–¥–µ–æ
- ‚ùå –ü—Ä—è–º—ñ –µ—Ñ—ñ—Ä–∏

### Rate Limits:
- 25 –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π –Ω–∞ –¥–µ–Ω—å –Ω–∞ Instagram Business Account
- 50 API –≤–∏–∫–ª–∏–∫—ñ–≤ –Ω–∞ –≥–æ–¥–∏–Ω—É

---

## üîç –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É

### ‚úÖ –©–æ –≤–∂–µ –ø—Ä–∞—Ü—é—î:
1. Telegram Publisher - –ø—Ä–∞—Ü—é—î
2. LinkedIn OAuth - –ø—Ä–∞—Ü—é—î (–≤–∏ –≤–∂–µ –ø—ñ–¥–∫–ª—é—á–∏–ª–∏)
3. Meta OAuth –∫–æ–¥ - —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
4. Database - columns –¥–ª—è Instagram –≥–æ—Ç–æ–≤—ñ

### üîÑ –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏:
1. Facebook App Domain - `marketing-agent-p4ig.onrender.com`
2. META_APP_ID —Ç–∞ META_APP_SECRET –≤ Render ENV
3. Instagram Business Account –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ Facebook Page
4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Meta OAuth –≤ –¥–æ–¥–∞—Ç–∫—É

---

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥ (—è–∫—â–æ OAuth –Ω–µ –ø—Ä–∞—Ü—é—î)

### –†—É—á–Ω–µ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞:

1. –û—Ç—Ä–∏–º–∞–π—Ç–µ Long-Lived User Access Token:
   - Facebook Graph API Explorer: https://developers.facebook.com/tools/explorer/
   - –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à App
   - –ó–∞–ø—Ä–æ—Å—ñ—Ç—å —Ç–æ–∫–µ–Ω –∑ permissions: `pages_show_list`, `instagram_basic`, `instagram_content_publish`
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Generate Access Token"

2. –ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ –≤ Long-Lived (60 –¥–Ω—ñ–≤):
   ```bash
   curl -X GET "https://graph.facebook.com/v21.0/oauth/access_token?grant_type=fb_exchange_token&client_id=YOUR_APP_ID&client_secret=YOUR_APP_SECRET&fb_exchange_token=SHORT_LIVED_TOKEN"
   ```

3. –û—Ç—Ä–∏–º–∞–π—Ç–µ Instagram Business Account ID:
   ```bash
   curl -X GET "https://graph.facebook.com/v21.0/me/accounts?access_token=LONG_LIVED_TOKEN"
   # –í—ñ–∑—å–º—ñ—Ç—å page_access_token –¥–ª—è –ø–æ—Ç—Ä—ñ–±–Ω–æ—ó Page
   
   curl -X GET "https://graph.facebook.com/v21.0/PAGE_ID?fields=instagram_business_account&access_token=PAGE_ACCESS_TOKEN"
   ```

4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö:
   - `meta_access_token` = PAGE_ACCESS_TOKEN
   - `instagram_business_id` = ID –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–ø–∏—Ç—É

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- **Facebook App Dashboard:** https://developers.facebook.com/apps/
- **Instagram Business API Docs:** https://developers.facebook.com/docs/instagram-api/
- **Graph API Explorer:** https://developers.facebook.com/tools/explorer/
- **Access Token Debugger:** https://developers.facebook.com/tools/debug/accesstoken/

---

## üéØ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

**–î–æ:**
```
‚ùå Instagram ist nicht konfiguriert. Content wurde nur generiert.
```

**–ü—ñ—Å–ª—è:**
```
‚úÖ Content erfolgreich auf Instagram ver√∂ffentlicht!
```

---

## üÜò –©–æ —Ä–æ–±–∏—Ç–∏ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö?

### "Invalid OAuth redirect URI"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤ Facebook App –¥–æ–¥–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π redirect URI
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –¥–æ–º–µ–Ω –¥–æ–¥–∞–Ω–æ –≤ App Domains

### "Instagram account is not a Business account"
- –ö–æ–Ω–≤–µ—Ä—Ç—É–π—Ç–µ –∞–∫–∞—É–Ω—Ç –≤ Business/Creator
- –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å –¥–æ Facebook Page

### "Missing permissions"
- –ü—Ä–∏ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –Ω–∞–¥–∞–π—Ç–µ –≤—Å—ñ –∑–∞–ø–∏—Ç–∞–Ω—ñ –¥–æ–∑–≤–æ–ª–∏
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ App Review, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ permissions –∞–∫—Ç–∏–≤–æ–≤–∞–Ω—ñ

---

**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Facebook App Domain —ñ –¥–æ–¥–∞–π—Ç–µ ENV –∑–º—ñ–Ω–Ω—ñ –Ω–∞ Render! üöÄ
